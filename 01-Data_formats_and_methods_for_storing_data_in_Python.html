

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Data formats and methods for storing data in Python &#8212; Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '01-Data_formats_and_methods_for_storing_data_in_Python';</script>
    <link rel="canonical" href="python2024/01-Data_formats_and_methods_for_storing_data_in_Python.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Implementation of data models via Python classes" href="02-Implementation_of_data_models_via_Python_classes.html" />
    <link rel="prev" title="Data Science" href="README.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Data Science - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Data Science - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="README.html">
                    Data Science
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data formats and methods for storing data in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-Implementation_of_data_models_via_Python_classes.html">Implementation of data models via Python classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-Introduction_to_Pandas.html">Introduction to Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-Configuring_and_populating_a_relational_database.html">Configuring and populating a relational database</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-Configuring_and_populating_a_graph_database.html">Configuring and populating a graph database</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-Interacting_with_databases_using_Pandas.html">Interacting with databases using Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-Descriptive_statistics_and_graphs_about_data_using_Pandas.html">Descriptive statistics and graphs about data using Pandas</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/mary-lev/data_science/blob/gh-pages/_sources/01-Data_formats_and_methods_for_storing_data_in_Python.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>



<a href="https://github.com/mary-lev/data_science" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/01-Data_formats_and_methods_for_storing_data_in_Python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data formats and methods for storing data in Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comma-separated-values-csv">Comma-separated values (CSV)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#opening-a-csv-file">Opening a CSV file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-reader">CSV reader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#casting-csv-reader-into-a-list">Casting CSV reader into a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-table-as-list-of-lists">CSV table as list of lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-writer">CSV writer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dictreader-and-dictwriter">DictReader and DictWriter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-dialects">CSV dialects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#javascript-object-notation-json">JavaScript Object Notation (JSON)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-json-document-in-python">Loading a JSON document in Python</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#it-is-a-list-of-dictionaries">It is a list of dictionaries!</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-a-json-document-into-a-file">Storing a JSON document into a file</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-formats-and-methods-for-storing-data-in-python">
<h1>Data formats and methods for storing data in Python<a class="headerlink" href="#data-formats-and-methods-for-storing-data-in-python" title="Permalink to this heading">#</a></h1>
<p>In this tutorial, we see two basic formats to deal with data in Python: CSV and JSON.</p>
<section id="comma-separated-values-csv">
<h2>Comma-separated values (CSV)<a class="headerlink" href="#comma-separated-values-csv" title="Permalink to this heading">#</a></h2>
<p>The first and simplest format you can use to store and load data in Python is the <a class="reference external" href="https://en.wikipedia.org/wiki/Comma-separated_values">Comma-Separated Values (CSV)</a>. In practice, each CSV file defines a table of a fixed number of columns where each row represents a (subject) entity and each cell defines the (object) value associated to that entity via the predicate defined by the column label, if specified. While it is not mandatory to specify column labels, it makes a CSV file more understandable to humans and machines. These labels can be specified using the first row of a CSV, defining an header of the table represented. An example of a table represented with a CSV is shown as follows.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>column<sub>1</sub></p></th>
<th class="head"><p>column<sub>2</sub></p></th>
<th class="head"><p>…</p></th>
<th class="head"><p>column<sub>n</sub></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span style="color: red"><em>entity<sub>1</sub></em></span></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>…</p></td>
<td><p>value<sub>n</sub></p></td>
</tr>
<tr class="row-odd"><td><p><span style="color: red"><em>entity<sub>2</sub></em></span></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>…</p></td>
<td><p>value<sub>n</sub></p></td>
</tr>
<tr class="row-even"><td><p><span style="color: red">…</span></p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p><span style="color: red"><em>entity<sub>m</sub></em></span></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>value<sub>1</sub></p></td>
<td><p>…</p></td>
<td><p>value<sub>n</sub></p></td>
</tr>
</tbody>
</table>
<p>Each cell in a row is defined by splitting the cell values using a comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>). In case the comma is part of the value of a cell, it is possible to escape such a comma by putting the cell value between quotes (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>). Finally, in case a cell value is defined using quotes and one or more quote is included in cell value, these must be escaped by using double quotes (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>). The following table and the related CSV source show how to define in CSV cell values when these situations happen.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>column name</p></th>
<th class="head"><p>another name, with a comma</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>a value</p></td>
<td><p>a value, with a comma</p></td>
</tr>
<tr class="row-odd"><td><p>a quoted “value”</p></td>
<td><p>a quoted “value”, with a comma</p></td>
</tr>
</tbody>
</table>
<p>CSV <a class="reference download internal" download="" href="_downloads/491b912b91bb51c3b33bd4c242b348f9/01-example.csv"><span class="xref download myst">source</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="n">name</span><span class="p">,</span><span class="s2">&quot;another name, with a comma&quot;</span>
<span class="n">a</span> <span class="n">value</span><span class="p">,</span><span class="s2">&quot;a value, with a comma&quot;</span>
<span class="n">a</span> <span class="n">quoted</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span><span class="s2">&quot;a quoted &quot;&quot;value&quot;&quot;, with a comma&quot;</span>
</pre></div>
</div>
<p>Python has a dedicated library to handle this format called <a class="reference external" href="https://docs.python.org/3/library/csv.html"><em>csv</em></a>. In order to understand how to use it, we can start analysing two very simple CSV files, one containing <a class="reference download internal" download="" href="_downloads/1a2bcaadfb618052c19b16227dd92a7a/01-publications.csv"><span class="xref download myst">publications and some of their basic metadata</span></a> and another with <a class="reference download internal" download="" href="_downloads/4aa59df752b73d2cbdf70c6251169020/01-venues.csv"><span class="xref download myst">information about the venues</span></a> where such publications have been published. To open it as a source file, you can right-click on it in the left panel and select <em>Open With -&gt; Editor</em>.</p>
<section id="opening-a-csv-file">
<h3>Opening a CSV file<a class="headerlink" href="#opening-a-csv-file" title="Permalink to this heading">#</a></h3>
<p>In order to understand how these files are represented in Python, let us try to load one of it into a Python object using the funcion <em>reader</em> included in the module <em>csv</em> mentioned above. For doing that, it is necessary to obtain a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-file-object">file object</a> of a particular file using the built-in <a class="reference external" href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files">function <code class="docutils literal notranslate"><span class="pre">open</span></code> used with a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement</a> as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">reader</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">open</span></code> takes in input several parameters and returns a file object, i.e. a Python object used to interact with a file stored in the file system. However, it is highly suggested to use at least the three specified above, that are:</p>
<ol class="arabic simple">
<li><p>the first positional parameter must contain the path of the file one wants to open;</p></li>
<li><p>the second positional parameter is the mode used to open the file (<code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code> stands for read, <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> for write, etc.);</p></li>
<li><p>the named parameter <code class="docutils literal notranslate"><span class="pre">encoding</span></code> specifying the encoding to open the file (<code class="docutils literal notranslate"><span class="pre">&quot;utf-8&quot;</span></code> must be used, if you do not want to have issues).</p></li>
</ol>
<p>In addition, all file objects one wants to create in Python to process files stored in the file system must be also closed once all the operations on that file are concluded. The keyword <code class="docutils literal notranslate"><span class="pre">with</span></code> used with the function <code class="docutils literal notranslate"><span class="pre">open</span></code> allows one to handle the opening and closing of the file object automatically. In practice, once all the operation within the <code class="docutils literal notranslate"><span class="pre">with</span></code> block are executed, the related file object will be closed. Finally, the file object openned using the function <code class="docutils literal notranslate"><span class="pre">open</span></code> will be assigned to the variable that follows the keyword <code class="docutils literal notranslate"><span class="pre">as</span></code>, i.e. <code class="docutils literal notranslate"><span class="pre">f</span></code> in the example above. It is worth mentioning that the example just shown introduces how to open, in reading mode, any file in the file system, not only CSV files.</p>
</section>
<section id="csv-reader">
<h3>CSV reader<a class="headerlink" href="#csv-reader" title="Permalink to this heading">#</a></h3>
<p>Once our file object has been defined, we can read its content interpreting it as a CSV document using the <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.reader">constructor <code class="docutils literal notranslate"><span class="pre">reader</span></code></a> included in the package <code class="docutils literal notranslate"><span class="pre">csv</span></code>, which is imported by means of the usual command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">reader</span>
</pre></div>
</div>
<p>The constructor <code class="docutils literal notranslate"><span class="pre">reader</span></code> takes in input a file object and returns an object of type (i.e. class) <code class="docutils literal notranslate"><span class="pre">_csv.reader</span></code>, that enables one to iterate over the CSV document row by row. To check the actual type, you can use the built-in function <code class="docutils literal notranslate"><span class="pre">type</span></code> passing the object as input, and then printing it on screen using either the function <code class="docutils literal notranslate"><span class="pre">print</span></code> or, when we want to print a complex structure, the <a class="reference external" href="https://docs.python.org/3/library/pprint.html#pprint.pprint">function <code class="docutils literal notranslate"><span class="pre">pprint</span></code></a> from the package <code class="docutils literal notranslate"><span class="pre">pprint</span></code> (a.k.a. <em>pretty print</em>), as shown running the following code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">pprint</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">publications</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;_csv.reader&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>An object of the class <code class="docutils literal notranslate"><span class="pre">_csv.reader</span></code> behaves like a list, and can be iterated using a for earch loop, as shown as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications</span><span class="p">:</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;doi&#39;,
 &#39;title&#39;,
 &#39;publication year&#39;,
 &#39;publication venue&#39;,
 &#39;type&#39;,
 &#39;issue&#39;,
 &#39;volume&#39;]
[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]
[&#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
 &#39;and peptides&#39;,
 &#39;2002&#39;,
 &#39;1367-5931&#39;,
 &#39;journal article&#39;,
 &#39;3&#39;,
 &#39;6&#39;]
[&#39;10.1002/9780470291092.ch20&#39;,
 &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
 &#39;1981&#39;,
 &#39;9780470291092&#39;,
 &#39;book chapter&#39;,
 &#39;&#39;,
 &#39;&#39;]
</pre></div>
</div>
</div>
</div>
<p>In case you want to skip the header of the table if present, starting to look at the values directly, you need to use the built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#next">function <code class="docutils literal notranslate"><span class="pre">next</span></code></a> that takes in input any <a class="reference external" href="https://docs.python.org/3/glossary.html#term-iterator">iterator-based object</a>, such as our CSV reader, and skips to the next line:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="nb">next</span><span class="p">(</span><span class="n">publications</span><span class="p">)</span>  <span class="c1"># it skip the first row of the CSV table</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications</span><span class="p">:</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>  <span class="c1"># it prints all the rows except the header</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]
[&#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
 &#39;and peptides&#39;,
 &#39;2002&#39;,
 &#39;1367-5931&#39;,
 &#39;journal article&#39;,
 &#39;3&#39;,
 &#39;6&#39;]
[&#39;10.1002/9780470291092.ch20&#39;,
 &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
 &#39;1981&#39;,
 &#39;9780470291092&#39;,
 &#39;book chapter&#39;,
 &#39;&#39;,
 &#39;&#39;]
</pre></div>
</div>
</div>
</div>
<p>It is worth mentioning that, once you have iterated it once, the CSV reader is <em>consumed</em> and does not allow you to iterate over the same object twice. For instance, see the following execution where the same reader is iterated twice:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-- First iteration&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications</span><span class="p">:</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>  <span class="c1"># all the rows will be printed, one by one</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Second iteration&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications</span><span class="p">:</span>
        <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>  <span class="c1"># no row will be printed</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- First iteration
[&#39;doi&#39;,
 &#39;title&#39;,
 &#39;publication year&#39;,
 &#39;publication venue&#39;,
 &#39;type&#39;,
 &#39;issue&#39;,
 &#39;volume&#39;]
[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]
[&#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
 &#39;and peptides&#39;,
 &#39;2002&#39;,
 &#39;1367-5931&#39;,
 &#39;journal article&#39;,
 &#39;3&#39;,
 &#39;6&#39;]
[&#39;10.1002/9780470291092.ch20&#39;,
 &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
 &#39;1981&#39;,
 &#39;9780470291092&#39;,
 &#39;book chapter&#39;,
 &#39;&#39;,
 &#39;&#39;]

-- Second iteration
</pre></div>
</div>
</div>
</div>
</section>
<section id="casting-csv-reader-into-a-list">
<h3>Casting CSV reader into a list<a class="headerlink" href="#casting-csv-reader-into-a-list" title="Permalink to this heading">#</a></h3>
<p>If you want to iterate over the same rows more than one time, one possibility would be to convert your reader into a list object, by using the <code class="docutils literal notranslate"><span class="pre">list</span></code> constructor:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">publications_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">publications</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>From now on, even if the file object is closed after executing all the instructions within the <code class="docutils literal notranslate"><span class="pre">with</span></code> block, you can always access (and iterate) the rows defined in the original CSV document since you have stored them within a Python list, as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-- First execution&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications_list</span><span class="p">:</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Second execution&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">publications_list</span><span class="p">:</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- First execution
[&#39;doi&#39;,
 &#39;title&#39;,
 &#39;publication year&#39;,
 &#39;publication venue&#39;,
 &#39;type&#39;,
 &#39;issue&#39;,
 &#39;volume&#39;]
[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]
[&#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
 &#39;and peptides&#39;,
 &#39;2002&#39;,
 &#39;1367-5931&#39;,
 &#39;journal article&#39;,
 &#39;3&#39;,
 &#39;6&#39;]
[&#39;10.1002/9780470291092.ch20&#39;,
 &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
 &#39;1981&#39;,
 &#39;9780470291092&#39;,
 &#39;book chapter&#39;,
 &#39;&#39;,
 &#39;&#39;]

-- Second execution
[&#39;doi&#39;,
 &#39;title&#39;,
 &#39;publication year&#39;,
 &#39;publication venue&#39;,
 &#39;type&#39;,
 &#39;issue&#39;,
 &#39;volume&#39;]
[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]
[&#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
 &#39;and peptides&#39;,
 &#39;2002&#39;,
 &#39;1367-5931&#39;,
 &#39;journal article&#39;,
 &#39;3&#39;,
 &#39;6&#39;]
[&#39;10.1002/9780470291092.ch20&#39;,
 &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
 &#39;1981&#39;,
 &#39;9780470291092&#39;,
 &#39;book chapter&#39;,
 &#39;&#39;,
 &#39;&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="csv-table-as-list-of-lists">
<h3>CSV table as list of lists<a class="headerlink" href="#csv-table-as-list-of-lists" title="Permalink to this heading">#</a></h3>
<p>As you can see from the executing the <code class="docutils literal notranslate"><span class="pre">print</span></code> function in the examples above, each row of the CSV table is represented, in Python, as a list of strings. As such, the overall table, after converted it as a list using the related constructor, is defined as a list of list of strings, following the pattern below (using as example the table introduced at the beginning of this tutorial):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span> <span class="s2">&quot;column name&quot;</span><span class="p">,</span> <span class="s2">&quot;another name, with a comma&quot;</span> <span class="p">],</span>              <span class="c1"># row 1</span>
    <span class="p">[</span> <span class="s2">&quot;a value&quot;</span><span class="p">,</span> <span class="s2">&quot;a value, with a comma&quot;</span> <span class="p">],</span>                       <span class="c1"># row 2</span>
    <span class="p">[</span> <span class="s2">&quot;a quoted </span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a quoted </span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">, with a comma&quot;</span> <span class="p">]</span>  <span class="c1"># row 3</span>
<span class="p">]</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;column name&#39;, &#39;another name, with a comma&#39;],
 [&#39;a value&#39;, &#39;a value, with a comma&#39;],
 [&#39;a quoted &quot;value&quot;&#39;, &#39;a quoted &quot;value&quot;, with a comma&#39;]]
</pre></div>
</div>
</div>
</div>
<p>As you can see, since strings in Python can be created enclosing their characters between double quotes (i.e. <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>), the only character to escape in the string is the double quote character itself with a slash (i.e. <code class="docutils literal notranslate"><span class="pre">\&quot;</span></code>). Alternatively, you could use the the single quote character (i.e. <code class="docutils literal notranslate"><span class="pre">'</span></code>) for creating strings, avoiding to escape double quote characters, if any:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span> <span class="s1">&#39;column name&#39;</span><span class="p">,</span> <span class="s1">&#39;another name, with a comma&#39;</span> <span class="p">],</span>          <span class="c1"># row 1</span>
    <span class="p">[</span> <span class="s1">&#39;a value&#39;</span><span class="p">,</span> <span class="s1">&#39;a value, with a comma&#39;</span> <span class="p">],</span>                   <span class="c1"># row 2</span>
    <span class="p">[</span> <span class="s1">&#39;a quoted &quot;value&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;a quoted &quot;value&quot;, with a comma&#39;</span> <span class="p">]</span>  <span class="c1"># row 3</span>
<span class="p">]</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;column name&#39;, &#39;another name, with a comma&#39;],
 [&#39;a value&#39;, &#39;a value, with a comma&#39;],
 [&#39;a quoted &quot;value&quot;&#39;, &#39;a quoted &quot;value&quot;, with a comma&#39;]]
</pre></div>
</div>
</div>
</div>
<p>Since a table is a list of list, it can be accessed and modified using the common methods available for the class list, as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># retrieving the second row in the table</span>
<span class="n">second_row</span> <span class="o">=</span> <span class="n">publications_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># remember that item indexes starts from 0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-- Second row&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">second_row</span><span class="p">)</span>

<span class="c1"># retrieving the third item in the second row</span>
<span class="n">third_item_second_row</span> <span class="o">=</span> <span class="n">second_row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Third item in second row&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">third_item_second_row</span><span class="p">)</span>

<span class="c1"># appending a new row at the end of the list</span>
<span class="n">publications_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span>
    <span class="s2">&quot;10.1080/10273660500441324&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;Development of a Species-Specific Model of Cerebral Hemodynamics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;2005&quot;</span><span class="p">,</span>
    <span class="s2">&quot;1027-3662&quot;</span><span class="p">,</span>
    <span class="s2">&quot;journal article&quot;</span><span class="p">,</span>
    <span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;6&quot;</span>
<span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Updated list&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">publications_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- Second row
[&#39;10.1002/cfg.304&#39;,
 &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
 &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
 &#39;2003&#39;,
 &#39;1531-6912&#39;,
 &#39;journal article&#39;,
 &#39;4&#39;,
 &#39;4&#39;]

-- Third item in second row
&#39;2003&#39;

-- Updated list
[[&#39;doi&#39;,
  &#39;title&#39;,
  &#39;publication year&#39;,
  &#39;publication venue&#39;,
  &#39;type&#39;,
  &#39;issue&#39;,
  &#39;volume&#39;],
 [&#39;10.1002/cfg.304&#39;,
  &#39;Development of Computational Tools for the Inference of Protein Interaction &#39;
  &#39;Specificity Rules and Functional Annotation Using Structural Information&#39;,
  &#39;2003&#39;,
  &#39;1531-6912&#39;,
  &#39;journal article&#39;,
  &#39;4&#39;,
  &#39;4&#39;],
 [&#39;10.1016/s1367-5931(02)00332-0&#39;,
  &#39;In vitro selection as a powerful tool for the applied evolution of proteins &#39;
  &#39;and peptides&#39;,
  &#39;2002&#39;,
  &#39;1367-5931&#39;,
  &#39;journal article&#39;,
  &#39;3&#39;,
  &#39;6&#39;],
 [&#39;10.1002/9780470291092.ch20&#39;,
  &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
  &#39;1981&#39;,
  &#39;9780470291092&#39;,
  &#39;book chapter&#39;,
  &#39;&#39;,
  &#39;&#39;],
 [&#39;10.1080/10273660500441324&#39;,
  &#39;Development of a Species-Specific Model of Cerebral Hemodynamics&#39;,
  &#39;2005&#39;,
  &#39;1027-3662&#39;,
  &#39;journal article&#39;,
  &#39;3&#39;,
  &#39;6&#39;]]
</pre></div>
</div>
</div>
</div>
</section>
<section id="csv-writer">
<h3>CSV writer<a class="headerlink" href="#csv-writer" title="Permalink to this heading">#</a></h3>
<p>Once created or modified a table defined through a list of lists in Python, it can be necessary to store it into a CSV file. To do so, we can use the <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.writer">constructor <code class="docutils literal notranslate"><span class="pre">writer</span></code></a> included in the package <code class="docutils literal notranslate"><span class="pre">csv</span></code>, that must be imported. As we did for loading the content of a CSV file in Python, we use again the <code class="docutils literal notranslate"><span class="pre">open</span></code> function within a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, but the file path of the first parameter indicates the file where to store the table and we specify <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> as the mode to interact with the file to create a new object file, as shown as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">writer</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-modified.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications_modified</span> <span class="o">=</span> <span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">publications_modified</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">publications_list</span><span class="p">)</span>  <span class="c1"># it writes all the rows in the list of lists</span>
</pre></div>
</div>
</div>
</div>
<p>As shown in the code above, the constructor <code class="docutils literal notranslate"><span class="pre">writer</span></code> takes in input again a file object and returns an object having class <code class="docutils literal notranslate"><span class="pre">_csv.writer</span></code>. This class includes some methods to write new rows in the file pointed by the file object. In particular, the <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.csvwriter.writerows">method <code class="docutils literal notranslate"><span class="pre">writerows</span></code></a> can be used to write the table defined as a list of lists (of strings) into the file.</p>
</section>
<section id="dictreader-and-dictwriter">
<h3>DictReader and DictWriter<a class="headerlink" href="#dictreader-and-dictwriter" title="Permalink to this heading">#</a></h3>
<p>In the previous section, we have seen how to load and store in Python a CSV table defined as a list of lists. There is, though, another approach that can be used to load and store CSV files using Python that represents the CSV tables as list of <em>dictionaries</em>. In this case, each key in the dictionary is a label of one of the columns of the table, that must be specified. The <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.DictReader">class <code class="docutils literal notranslate"><span class="pre">DictReader</span></code></a> (that must be imported as usual) is used to load a CSV table in this form, as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">DictReader</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-modified.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">publications_modified</span> <span class="o">=</span> <span class="n">DictReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>  <span class="c1"># it is a reader operating as a list of dictionaries</span>
    <span class="n">publications_modified_dict</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">publications_modified</span><span class="p">)</span>  <span class="c1"># casting the reader as a list</span>

<span class="n">pprint</span><span class="p">(</span><span class="n">publications_modified_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;doi&#39;: &#39;10.1002/cfg.304&#39;,
  &#39;issue&#39;: &#39;4&#39;,
  &#39;publication venue&#39;: &#39;1531-6912&#39;,
  &#39;publication year&#39;: &#39;2003&#39;,
  &#39;title&#39;: &#39;Development of Computational Tools for the Inference of Protein &#39;
           &#39;Interaction Specificity Rules and Functional Annotation Using &#39;
           &#39;Structural Information&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;4&#39;},
 {&#39;doi&#39;: &#39;10.1016/s1367-5931(02)00332-0&#39;,
  &#39;issue&#39;: &#39;3&#39;,
  &#39;publication venue&#39;: &#39;1367-5931&#39;,
  &#39;publication year&#39;: &#39;2002&#39;,
  &#39;title&#39;: &#39;In vitro selection as a powerful tool for the applied evolution of &#39;
           &#39;proteins and peptides&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;6&#39;},
 {&#39;doi&#39;: &#39;10.1002/9780470291092.ch20&#39;,
  &#39;issue&#39;: &#39;&#39;,
  &#39;publication venue&#39;: &#39;9780470291092&#39;,
  &#39;publication year&#39;: &#39;1981&#39;,
  &#39;title&#39;: &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
  &#39;type&#39;: &#39;book chapter&#39;,
  &#39;volume&#39;: &#39;&#39;},
 {&#39;doi&#39;: &#39;10.1080/10273660500441324&#39;,
  &#39;issue&#39;: &#39;3&#39;,
  &#39;publication venue&#39;: &#39;1027-3662&#39;,
  &#39;publication year&#39;: &#39;2005&#39;,
  &#39;title&#39;: &#39;Development of a Species-Specific Model of Cerebral Hemodynamics&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;6&#39;}]
</pre></div>
</div>
</div>
</div>
<p>As you can see from the output of the execution of the code above, the list defined by casting the <code class="docutils literal notranslate"><span class="pre">DictReader</span></code> object, created by passing as input the file object as before, contains dictionaries, where each dictionary represent a row. The values of the cells of each row can be accessed by using the related key which is, as anticipated, one of the label of the columns. It is worth mentioning that, in this case, the first row in the CSV table is always interpreted as the header of the table, and the content of the list of ditionaries will start considering only the values specified from the second row. The following code shows some example about how to interact with such a structure for accessing and modifying the table:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># retrieving the second row in the table</span>
<span class="n">second_row</span> <span class="o">=</span> <span class="n">publications_modified_dict</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># remember that item indexes starts from 0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-- Second row&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">second_row</span><span class="p">)</span>

<span class="c1"># retrieving the value associated with the column &#39;title&#39; in the second row</span>
<span class="n">title_value_second_row</span> <span class="o">=</span> <span class="n">second_row</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Value assigned to &#39;title&#39; in second row&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">title_value_second_row</span><span class="p">)</span>

<span class="c1"># appending a new row at the end of the list</span>
<span class="n">publications_modified_dict</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s2">&quot;doi&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1080/10273660412331292260&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Amplified Molecular Binding of Prion Protein Homologues in Self-Progressive Injury of Neuronal Membranes and Trafficking Systems&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publication year&quot;</span><span class="p">:</span> <span class="s2">&quot;2003&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publication venue&quot;</span><span class="p">:</span> <span class="s2">&quot;1027-3662&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;journal article&quot;</span><span class="p">,</span>
    <span class="s2">&quot;issue&quot;</span><span class="p">:</span> <span class="s2">&quot;3-4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Updated list of dictionaries&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">publications_modified_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- Second row
{&#39;doi&#39;: &#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;issue&#39;: &#39;3&#39;,
 &#39;publication venue&#39;: &#39;1367-5931&#39;,
 &#39;publication year&#39;: &#39;2002&#39;,
 &#39;title&#39;: &#39;In vitro selection as a powerful tool for the applied evolution of &#39;
          &#39;proteins and peptides&#39;,
 &#39;type&#39;: &#39;journal article&#39;,
 &#39;volume&#39;: &#39;6&#39;}

-- Value assigned to &#39;title&#39; in second row
In vitro selection as a powerful tool for the applied evolution of proteins and peptides

-- Updated list of dictionaries
[{&#39;doi&#39;: &#39;10.1002/cfg.304&#39;,
  &#39;issue&#39;: &#39;4&#39;,
  &#39;publication venue&#39;: &#39;1531-6912&#39;,
  &#39;publication year&#39;: &#39;2003&#39;,
  &#39;title&#39;: &#39;Development of Computational Tools for the Inference of Protein &#39;
           &#39;Interaction Specificity Rules and Functional Annotation Using &#39;
           &#39;Structural Information&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;4&#39;},
 {&#39;doi&#39;: &#39;10.1016/s1367-5931(02)00332-0&#39;,
  &#39;issue&#39;: &#39;3&#39;,
  &#39;publication venue&#39;: &#39;1367-5931&#39;,
  &#39;publication year&#39;: &#39;2002&#39;,
  &#39;title&#39;: &#39;In vitro selection as a powerful tool for the applied evolution of &#39;
           &#39;proteins and peptides&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;6&#39;},
 {&#39;doi&#39;: &#39;10.1002/9780470291092.ch20&#39;,
  &#39;issue&#39;: &#39;&#39;,
  &#39;publication venue&#39;: &#39;9780470291092&#39;,
  &#39;publication year&#39;: &#39;1981&#39;,
  &#39;title&#39;: &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
  &#39;type&#39;: &#39;book chapter&#39;,
  &#39;volume&#39;: &#39;&#39;},
 {&#39;doi&#39;: &#39;10.1080/10273660500441324&#39;,
  &#39;issue&#39;: &#39;3&#39;,
  &#39;publication venue&#39;: &#39;1027-3662&#39;,
  &#39;publication year&#39;: &#39;2005&#39;,
  &#39;title&#39;: &#39;Development of a Species-Specific Model of Cerebral Hemodynamics&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;6&#39;},
 {&#39;doi&#39;: &#39;10.1080/10273660412331292260&#39;,
  &#39;issue&#39;: &#39;3-4&#39;,
  &#39;publication venue&#39;: &#39;1027-3662&#39;,
  &#39;publication year&#39;: &#39;2003&#39;,
  &#39;title&#39;: &#39;Amplified Molecular Binding of Prion Protein Homologues in &#39;
           &#39;Self-Progressive Injury of Neuronal Membranes and Trafficking &#39;
           &#39;Systems&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;5&#39;}]
</pre></div>
</div>
</div>
</div>
<p>As before, once created or modified a table defined through a list of ditionaries, you can store it into a CSV file using the <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.DictWriter">class <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code></a> included in the package <code class="docutils literal notranslate"><span class="pre">csv</span></code> (to be imported, as usual). As we did before, we use again the <code class="docutils literal notranslate"><span class="pre">open</span></code> function within a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, but the file path of the first parameter indicates the file where to store the table and we specify <code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> as the mode to interact with the file to create a new object file, as shown as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">DictWriter</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-modified-dict.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">header</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># the fields defining the columns must be explicitly specified in the desired order</span>
        <span class="s2">&quot;doi&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;publication year&quot;</span><span class="p">,</span> <span class="s2">&quot;publication venue&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;issue&quot;</span><span class="p">,</span> <span class="s2">&quot;volume&quot;</span> <span class="p">]</span>
    
    <span class="n">publications_modified</span> <span class="o">=</span> <span class="n">DictWriter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">header</span><span class="p">)</span>
    <span class="n">publications_modified</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>  <span class="c1"># the header must be explicitly created in the output file</span>
    <span class="n">publications_modified</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">publications_modified_dict</span><span class="p">)</span>  <span class="c1"># it writes all the rows, as usual</span>
</pre></div>
</div>
</div>
</div>
<p>However, the class <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code> works in a slightly different way of <code class="docutils literal notranslate"><span class="pre">_csv.writer</span></code>. The main differences are:</p>
<ol class="arabic simple">
<li><p>the dictionaries representing the rows do not specify a precise order of the columns to be stored in the CSV file and, as such, it must be explicitly defined;</p></li>
<li><p>there is no header explicitly specified as a row of the table and, as such, it must be provided to the constructor of the class <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code> and then written as first thing in the file.</p></li>
</ol>
<p>For addressing 1), we simply create a new list (the variable <code class="docutils literal notranslate"><span class="pre">header</span></code> of the code above) with all the column labels in the order they must appear in the final file. Instead, for addressing 2), it is sufficient to specify such a new list as the second parameter of the <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code> constructor, after the file object where to store the table; then, it is necessary to write the header of the table calling the <a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.DictWriter.writeheader">method <code class="docutils literal notranslate"><span class="pre">writeheader()</span></code></a> before writing the rows with data into the file using the method <code class="docutils literal notranslate"><span class="pre">writerows</span></code>.</p>
</section>
<section id="csv-dialects">
<h3>CSV dialects<a class="headerlink" href="#csv-dialects" title="Permalink to this heading">#</a></h3>
<p>In the previous sections we showed how to use the classes and functions in the package <code class="docutils literal notranslate"><span class="pre">csv</span></code> in Python to handle CSV documents. It is worth mentioning, though, that CSV has several <a class="reference external" href="https://docs.python.org/3/library/csv.html#dialects-and-formatting-parameters">dialects</a> that introduce small changes in the structure of a CSV document. For instance, a well-known dialect is named <a class="reference external" href="https://en.wikipedia.org/wiki/Tab-separated_values">Tab-separated Values (TSV)</a>. Here the idea is that one has to use the <a class="reference external" href="https://en.wikipedia.org/wiki/Tab_key#Tab_characters">tab character</a> to separate the cells of a row instead of the comma. As such, the comma does not have any specific meaning and can be safely used in cell values withou escaping it with quote characters.</p>
<p>For instance, the very first example of CSV table introduced at the beginning of this tutorial can be <a class="reference download internal" download="" href="_downloads/3f87f94d86b6a2de5726c38d211a48ae/01-example.tsv"><span class="xref download myst">represented in TSV</span></a> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="n">name</span>	<span class="n">another</span> <span class="n">name</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="n">comma</span>
<span class="n">a</span> <span class="n">value</span>	<span class="n">a</span> <span class="n">value</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="n">comma</span>
<span class="n">a</span> <span class="n">quoted</span> <span class="s2">&quot;value&quot;</span>	<span class="n">a</span> <span class="n">quoted</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="k">with</span> <span class="n">a</span> <span class="n">comma</span>
</pre></div>
</div>
<p>Of course, the <code class="docutils literal notranslate"><span class="pre">csv</span></code> package allows one to parse also these additional kinds of formats. Indeed, all the constructors of readers and writers objects (i.e. <code class="docutils literal notranslate"><span class="pre">reader</span></code>, <code class="docutils literal notranslate"><span class="pre">writer</span></code>, <code class="docutils literal notranslate"><span class="pre">DictReader</span></code> and <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code>) can have in input the optional named parameter <code class="docutils literal notranslate"><span class="pre">dialect</span></code> which permits the specification of the dialect to consider for either loading or storing the CSV-like table. For instance, the following code stores the table considered in the previous excerpt of code as a TSV file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-modified-dict.tsv&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">header</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># the fields defining the columns must be explicitly specified in the desired order</span>
        <span class="s2">&quot;doi&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;publication year&quot;</span><span class="p">,</span> <span class="s2">&quot;publication venue&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;issue&quot;</span><span class="p">,</span> <span class="s2">&quot;volume&quot;</span> <span class="p">]</span>
    
    <span class="n">publications_modified</span> <span class="o">=</span> <span class="n">DictWriter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;excel-tab&quot;</span><span class="p">)</span>  <span class="c1"># adding the specific dialect</span>
    <span class="n">publications_modified</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>  <span class="c1"># the header must be explicitly created in the output file</span>
    <span class="n">publications_modified</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">publications_modified_dict</span><span class="p">)</span>  <span class="c1"># it writes all the rows, as usual</span>
</pre></div>
</div>
</div>
</div>
<p>In the code above, we have specified a different output file in the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement (i.e.  the extension now is <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>), and we have explicited asked our <code class="docutils literal notranslate"><span class="pre">DictWriter</span></code> to use the tab-separated dialect introduced by Excel (i.e. <code class="docutils literal notranslate"><span class="pre">dialect=&quot;excel-tab&quot;</span></code>) to handle the table as a TSV file.</p>
</section>
</section>
<section id="javascript-object-notation-json">
<h2>JavaScript Object Notation (JSON)<a class="headerlink" href="#javascript-object-notation-json" title="Permalink to this heading">#</a></h2>
<p>Another format well-known in the Web, since it is used in several different scenarios that concern data interchange, is the <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">Javascript Object Notation (JSON)</a>. It is a simple textual format to describe objects which follow the key-value approach to specify data, where the key is always a term written within quotes, while the value can assume any of the following types:</p>
<ul class="simple">
<li><p>numbers (integers and floats), specified straight without an markup (e.g. <code class="docutils literal notranslate"><span class="pre">3</span></code> or <code class="docutils literal notranslate"><span class="pre">3.14</span></code>);</p></li>
<li><p>strings, specified between double quotes (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;a</span> <span class="pre">string&quot;</span></code>);</p></li>
<li><p>booleans, the values <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>;</p></li>
<li><p>object, a collection of key-value pairs specified within curly brackets, where each pair is separated with a comma (e.g. <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;given</span> <span class="pre">name&quot;:</span> <span class="pre">&quot;Silvio&quot;,</span> <span class="pre">&quot;family</span> <span class="pre">name&quot;:</span> <span class="pre">&quot;Peroni&quot;</span> <span class="pre">}</span></code>);</p></li>
<li><p>the null value, i.e. <code class="docutils literal notranslate"><span class="pre">null</span></code>, which mimic the <code class="docutils literal notranslate"><span class="pre">None</span></code> value in Python;</p></li>
<li><p>arrays, i.e. lists of values (numbers, strings, booleans, objects, other arrays, etc.) listed between square brackets where each item is separated with a comma (e.g. <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;a</span> <span class="pre">string&quot;,</span> <span class="pre">&quot;another</span> <span class="pre">string&quot;,</span> <span class="pre">4,</span> <span class="pre">4.5,</span> <span class="pre">true</span> <span class="pre">]</span></code>).</p></li>
</ul>
<p>Thus, instead of CSV documents in which all the values are actually interpreted as strings, in a JSON document all the values can have different types, as shown above. In addition, each JSON document does not contain necessarily one single object (using curly brackets), but can be defined as an array of objects, and each object can contain (as some of its values) other objects, organising a tree-like structure. An example of such structure is shown in the <a class="reference download internal" download="" href="_downloads/17c7b8ff57433466180c420ba25da9a3/01-publications-venues.json"><span class="xref download myst">exemplar JSON file</span></a> provided in this tutorial, where all the publications and venues specified in the CSV files introduced at the very beginning of the tutorial have been reorganised according to the JSON syntax. As before, to open it as a source file, you can right-click on it in the left panel and select <em>Open With -&gt; Editor</em>.</p>
<section id="loading-a-json-document-in-python">
<h3>Loading a JSON document in Python<a class="headerlink" href="#loading-a-json-document-in-python" title="Permalink to this heading">#</a></h3>
<p>We need to use specific functions of the <a class="reference external" href="https://docs.python.org/3/library/json.html">Python package <code class="docutils literal notranslate"><span class="pre">json</span></code></a> to load a JSON document in Python. In particular, we use the <a class="reference external" href="https://docs.python.org/3/library/json.html#json.load">function <code class="docutils literal notranslate"><span class="pre">load</span></code></a> to import in Python a JSON object, that must be imported from the <code class="docutils literal notranslate"><span class="pre">json</span></code> package as usual.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">load</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-venues.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json_doc</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Differntly from the handling of CSV documents, the <code class="docutils literal notranslate"><span class="pre">load</span></code> function (that still takes in input the file object of the file to load) does not return you a reader, but rather it provides directly the representation of the JSON document into the appropriate Python data structures.</p>
</section>
<section id="it-is-a-list-of-dictionaries">
<h3>It is a list of dictionaries!<a class="headerlink" href="#it-is-a-list-of-dictionaries" title="Permalink to this heading">#</a></h3>
<p>Considering the <a class="reference download internal" download="" href="_downloads/17c7b8ff57433466180c420ba25da9a3/01-publications-venues.json"><span class="xref download myst">exemplar JSON file</span></a> we have used in the code above, we can print out on screen the type of the object referred by the <code class="docutils literal notranslate"><span class="pre">json_doc</span></code> variable to see what kind of class it is used to represent such a document, as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">json_doc</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;list&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>As you can see, a list is used to map the JSON array, which is indeed the most natural choice. In particular, the kind of JSON values mentioned above are converted in Python as follows:</p>
<ul class="simple">
<li><p>numbers (e.g. <code class="docutils literal notranslate"><span class="pre">3</span></code> or <code class="docutils literal notranslate"><span class="pre">3.14</span></code>) and strings (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;a</span> <span class="pre">string&quot;</span></code>) in JSON are represented with the kinds of values in Python (i.e. <code class="docutils literal notranslate"><span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">3.14</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;a</span> <span class="pre">string&quot;</span></code>);</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code> boolean values in JSON are represented in Python using <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code> respectively;</p></li>
<li><p>each JSON object is represented by a Python dictionary, having strings specified as keys and the appropriate kind of value assigned to their values;</p></li>
<li><p>JSON arrays, as already mentioned, are represented with Python lists.</p></li>
</ul>
<p>Thus you can act upon the JSON object loaded in Python as you do with the classes used to represent the various JSON values. For instance, in the following code, we show some specific item of the JSON array and add another object to the list, which includes a new publication:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># retrieving the second item in the JSON array</span>
<span class="n">second_item</span> <span class="o">=</span> <span class="n">json_doc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># remember that item indexes starts from 0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-- Second item&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">second_item</span><span class="p">)</span>

<span class="c1"># retrieving the value associated with the key &#39;title&#39; in the second item</span>
<span class="n">title_value_second_item</span> <span class="o">=</span> <span class="n">second_item</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Value assigned to &#39;title&#39; in second item&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">title_value_second_item</span><span class="p">)</span>

<span class="c1"># appending a new JSON object at the end of the list</span>
<span class="n">json_doc</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
    <span class="s2">&quot;doi&quot;</span><span class="p">:</span> <span class="s2">&quot;10.1080/10273660412331292260&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Amplified Molecular Binding of Prion Protein Homologues in Self-Progressive Injury of Neuronal Membranes and Trafficking Systems&quot;</span><span class="p">,</span>
    <span class="s2">&quot;publication year&quot;</span><span class="p">:</span> <span class="mi">2003</span><span class="p">,</span>
    <span class="s2">&quot;publication venue&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;1027-3662&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Journal of Theoretical Medicine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;journal&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;journal article&quot;</span><span class="p">,</span>
    <span class="s2">&quot;issue&quot;</span><span class="p">:</span> <span class="s2">&quot;3-4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="s2">&quot;5&quot;</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">-- Updated JSON array (a.k.a. list of dictionaries)&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">json_doc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- Second item
{&#39;doi&#39;: &#39;10.1016/s1367-5931(02)00332-0&#39;,
 &#39;issue&#39;: &#39;3&#39;,
 &#39;publication venue&#39;: {&#39;id&#39;: [&#39;1367-5931&#39;],
                       &#39;name&#39;: &#39;Current Opinion in Chemical Biology&#39;,
                       &#39;type&#39;: &#39;journal&#39;},
 &#39;publication year&#39;: 2002,
 &#39;title&#39;: &#39;In vitro selection as a powerful tool for the applied evolution of &#39;
          &#39;proteins and peptides&#39;,
 &#39;type&#39;: &#39;journal article&#39;,
 &#39;volume&#39;: &#39;6&#39;}

-- Value assigned to &#39;title&#39; in second item
In vitro selection as a powerful tool for the applied evolution of proteins and peptides

-- Updated JSON array (a.k.a. list of dictionaries)
[{&#39;doi&#39;: &#39;10.1002/cfg.304&#39;,
  &#39;issue&#39;: &#39;4&#39;,
  &#39;publication venue&#39;: {&#39;id&#39;: [&#39;1531-6912&#39;],
                        &#39;name&#39;: &#39;Comparative and Functional Genomics&#39;,
                        &#39;type&#39;: &#39;journal&#39;},
  &#39;publication year&#39;: 2003,
  &#39;title&#39;: &#39;Development of Computational Tools for the Inference of Protein &#39;
           &#39;Interaction Specificity Rules and Functional Annotation Using &#39;
           &#39;Structural Information&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;4&#39;},
 {&#39;doi&#39;: &#39;10.1016/s1367-5931(02)00332-0&#39;,
  &#39;issue&#39;: &#39;3&#39;,
  &#39;publication venue&#39;: {&#39;id&#39;: [&#39;1367-5931&#39;],
                        &#39;name&#39;: &#39;Current Opinion in Chemical Biology&#39;,
                        &#39;type&#39;: &#39;journal&#39;},
  &#39;publication year&#39;: 2002,
  &#39;title&#39;: &#39;In vitro selection as a powerful tool for the applied evolution of &#39;
           &#39;proteins and peptides&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;6&#39;},
 {&#39;doi&#39;: &#39;10.1002/9780470291092.ch20&#39;,
  &#39;publication venue&#39;: {&#39;id&#39;: [&#39;9780470291092&#39;],
                        &#39;name&#39;: &#39;Proceedings of the 5th Annual Conference on &#39;
                                &#39;Composites and Advanced Ceramic Materials: &#39;
                                &#39;Ceramic Engineering and Science Proceedings&#39;,
                        &#39;type&#39;: &#39;book&#39;},
  &#39;publication year&#39;: 1981,
  &#39;title&#39;: &#39;Mechanisms of Toughening in Ceramic Matrix Composites&#39;,
  &#39;type&#39;: &#39;book chapter&#39;},
 {&#39;doi&#39;: &#39;10.1080/10273660412331292260&#39;,
  &#39;issue&#39;: &#39;3-4&#39;,
  &#39;publication venue&#39;: {&#39;id&#39;: [&#39;1027-3662&#39;],
                        &#39;name&#39;: &#39;Journal of Theoretical Medicine&#39;,
                        &#39;type&#39;: &#39;journal&#39;},
  &#39;publication year&#39;: 2003,
  &#39;title&#39;: &#39;Amplified Molecular Binding of Prion Protein Homologues in &#39;
           &#39;Self-Progressive Injury of Neuronal Membranes and Trafficking &#39;
           &#39;Systems&#39;,
  &#39;type&#39;: &#39;journal article&#39;,
  &#39;volume&#39;: &#39;5&#39;}]
</pre></div>
</div>
</div>
</div>
</section>
<section id="storing-a-json-document-into-a-file">
<h3>Storing a JSON document into a file<a class="headerlink" href="#storing-a-json-document-into-a-file" title="Permalink to this heading">#</a></h3>
<p>We use the <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dump">function <code class="docutils literal notranslate"><span class="pre">dump</span></code></a> of the <code class="docutils literal notranslate"><span class="pre">json</span></code> package (to import as usual) to store a dictionary or an array of values into a JSON file, as shown in the following excerpt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">dump</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;assets/data/01-publications-venues-modified.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">dump</span><span class="p">(</span><span class="n">json_doc</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dump</span></code> function takes in input two mandatory positional parameters - i.e. the Python representation of a JSON document as the first parameter and the file object referring to the file where to store the JSON document. In addition, it can takes several other optional named parameters, two of which are strongly suggested and have been used in the code above.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">ensure_ascii</span></code> (assigned to <code class="docutils literal notranslate"><span class="pre">True</span></code> by defalut) is responsible to keep every string value compliant with the <a class="reference external" href="https://en.wikipedia.org/wiki/ASCII">ASCII character encoding</a>, which will result in escaping all non-ASCII characters (that are only 128 characters). This is very undesirable when we have natural language text in the JSON object we want to store since, for instance, all the characters with accents (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;è&quot;</span></code>) will be encoded in a different way (in the example, <code class="docutils literal notranslate"><span class="pre">&quot;\u00e8&quot;</span></code>, that is the UTF-8 code of the character <code class="docutils literal notranslate"><span class="pre">&quot;è&quot;</span></code>). That is why the code above sets the <code class="docutils literal notranslate"><span class="pre">ensure_ascii</span></code> input parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code>: to avoid such an escaping, preserving the original characters as they are (i.e. encoded in UTF-8).</p>
<p>Instead, the parameter <code class="docutils literal notranslate"><span class="pre">indent</span></code> is used to specify how many white spaces to add for indenting the various key-value pairs in the JSON document. The choice to specify the indent is only for human consumption, since a machine does not care about how these pairs are visually organised in the document. Indeed, the JSON document</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;given name&quot;</span><span class="p">:</span> <span class="s2">&quot;Silvio&quot;</span><span class="p">,</span> <span class="s2">&quot;family name&quot;</span><span class="p">:</span> <span class="s2">&quot;Peroni }</span>
</pre></div>
</div>
<p>and the JSON document</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> 
    <span class="s2">&quot;given name&quot;</span><span class="p">:</span> <span class="s2">&quot;Silvio&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;family name&quot;</span><span class="p">:</span> <span class="s2">&quot;Peroni&quot;</span> 
<span class="p">}</span>
</pre></div>
</div>
<p>are actually storing the same data, but the second is usually easier to read for humans. That is why the code above sets the input parameter <code class="docutils literal notranslate"><span class="pre">indent</span></code> to <code class="docutils literal notranslate"><span class="pre">4</span></code>, meaning that four spaces must be used to indent the various JSON pairs.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "mary-lev/data_science",
            ref: "gh-pages",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="README.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data Science</p>
      </div>
    </a>
    <a class="right-next"
       href="02-Implementation_of_data_models_via_Python_classes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Implementation of data models via Python classes</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comma-separated-values-csv">Comma-separated values (CSV)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#opening-a-csv-file">Opening a CSV file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-reader">CSV reader</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#casting-csv-reader-into-a-list">Casting CSV reader into a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-table-as-list-of-lists">CSV table as list of lists</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-writer">CSV writer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dictreader-and-dictwriter">DictReader and DictWriter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-dialects">CSV dialects</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#javascript-object-notation-json">JavaScript Object Notation (JSON)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-json-document-in-python">Loading a JSON document in Python</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#it-is-a-list-of-dictionaries">It is a list of dictionaries!</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-a-json-document-into-a-file">Storing a JSON document into a file</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Prof. Silvio Peroni
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>